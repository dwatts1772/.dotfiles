#! /bin/bash

zsh_custom_react() {
    reactGrep=$(grep -c -s react-dom package.json)
    if [[ "$reactGrep" -ne 0 ]]; then echo -n '\uFC06'; fi
}

POWERLEVEL9K_CUSTOM_REACT="zsh_custom_react"
POWERLEVEL9K_CUSTOM_REACT_FOREGROUND="white"
POWERLEVEL9K_CUSTOM_REACT_BACKGROUND="blue"

zsh_custom_env_reader() {
    [[ ! -f .env ]] && return
    VAR=$(grep -E -v "^$|^[[:space:]]*#" .env | grep _HOSTNAME | xargs)
    RES=$(awk -F "=" '{print $2}' <<< "$VAR")
    echo "$RES"
}

POWERLEVEL9K_CUSTOM_ENV_READER="zsh_custom_env_reader"
POWERLEVEL9K_CUSTOM_ENV_READER_FOREGROUND="black"
POWERLEVEL9K_CUSTOM_ENV_READER_BACKGROUND="red"

POWERLEVEL9K_MODE='nerdfont-complete'
POWERLEVEL9K_SHORTEN_DIR_LENGTH=1
POWERLEVEL9K_SHORTEN_STRATEGY="truncate_to_first_and_last"
POWERLEVEL9K_CONTEXT_DEFAULT_BACKGROUND="000"
POWERLEVEL9K_CONTEXT_DEFAULT_FOREGROUND="007"
POWERLEVEL9K_DIR_HOME_BACKGROUND="001"
POWERLEVEL9K_DIR_HOME_FOREGROUND="000"
POWERLEVEL9K_DIR_HOME_SUBFOLDER_BACKGROUND="black"
POWERLEVEL9K_DIR_HOME_SUBFOLDER_FOREGROUND="white"
POWERLEVEL9K_NODE_VERSION_BACKGROUND="002"
POWERLEVEL9K_NODE_VERSION_FOREGROUND="black"
POWERLEVEL9K_NODE_VERSION_VISUAL_IDENTIFIER_COLOR="black"
POWERLEVEL9K_LOAD_CRITICAL_BACKGROUND="black"
POWERLEVEL9K_LOAD_WARNING_BACKGROUND="black"
POWERLEVEL9K_LOAD_NORMAL_BACKGROUND="black"
POWERLEVEL9K_LOAD_CRITICAL_FOREGROUND="007"
POWERLEVEL9K_LOAD_WARNING_FOREGROUND="007"
POWERLEVEL9K_LOAD_NORMAL_FOREGROUND="007"
POWERLEVEL9K_LOAD_CRITICAL_VISUAL_IDENTIFIER_COLOR="red"
POWERLEVEL9K_LOAD_WARNING_VISUAL_IDENTIFIER_COLOR="yellow"
POWERLEVEL9K_LOAD_NORMAL_VISUAL_IDENTIFIER_COLOR="green"
POWERLEVEL9K_RAM_BACKGROUND="black"
POWERLEVEL9K_RAM_FOREGROUND="007"
POWERLEVEL9K_RAM_VISUAL_IDENTIFIER_COLOR="001"
POWERLEVEL9K_RAM_ELEMENTS=(ram_free)
POWERLEVEL9K_TIME_BACKGROUND="black"
POWERLEVEL9K_TIME_FOREGROUND="007"
POWERLEVEL9K_TIME_FORMAT="%D{%H:%M} %F{003}\uF017"
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=('dir' 'vcs' 'custom_env_reader')
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=('custom_react' 'node_version' 'time')
POWERLEVEL9K_LEFT_SEGMENT_SEPARATOR=$'\uE0B0'
POWERLEVEL9K_RIGHT_SEGMENT_SEPARATOR=$'\uE0B2'
POWERLEVEL9K_PROMPT_ADD_NEWLINE=true
